<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

        <title>report</title>
        <link rel="stylesheet" href="/stylesheets/office.css">
    <style>
        
        #table1{
            border-radius: 10px;
            background-color: lightgrey;
            display: none;
            border-spacing:0 15px; 
            border-collapse: separate; 
            width:95%; 
            margin : 50px auto 0px auto ; 
            box-shadow: 1px 1px 10px 1px; 
        }

        tr{
           background-color: white;
        }

        #table2,#table3{
            border-radius: 10px;
            background-color: lightgrey;
            display: none;
            border-spacing:0 15px; 
            border-collapse: separate; 
            width:95%; 
            margin : 50px auto 0px auto ; 
            box-shadow: 1px 1px 10px 1px; 
        }
      
        td{
            text-align: center;
            padding: 5px;   
            
        }
        
    </style>

    <script>
        function table_show(i) {
             var x = document.getElementById(i);
             if(i==="table1")
             {
                 x.style.display="block";
                 document.getElementById("table2").style.display="none";
                 document.getElementById("table3").style.display="none";
                 return;
                }
             if(i==="table2" )
             {
                 x.style.display="block";
                 document.getElementById("table1").style.display="none";
                 document.getElementById("table3").style.display="none";
                 return;
             }

             if(i==="table3" )
             {
                 x.style.display="block";
                 document.getElementById("table1").style.display="none";
                 document.getElementById("table2").style.display="none";
                 return;
             }

            }
        

    </script>
    </head>
    <body>
       
            <div class="header ">
                    <span style=" font-weight : 700 ;font-size: 26px; margin-left: 50px; margin-right: 20px;">Report</span>
                    <a class="head_a" href="/home/dashboardOffice" style=" font-weight : 700 ;margin-left: 20px; margin-right: 20px; text-decoration: none; color: white;">Home</a>
                    <p class="head_a" style=" font-weight : 700 ;margin-left: 20px; margin-right: 20px; text-decoration: none; color: white;">Welcome: <%=user.Username%></p>
                    <a class="head_a" href="/home/logoutOffice" style=" font-weight : 700 ;margin-left: 20px; margin-right: 50px; margin-top:10px; float: right; text-decoration: none; color: white;">Logout</a></div>
            

                    <div class="main"  style="margin : 60px auto 0 auto; width: 90%; height: auto; text-align: center; border-radius: 10px;box-shadow: 1px 1px 10px 1px; ">
                        <br><br> 
                        <div style="width: 80%; margin :0px auto 0px auto; height: 50px;">
                           <span id="a_name" style="float:left; font-weight : 700 ;font-size: 26px; margin-left: 50px; margin-right: 20px;">Name : <%=name %></span>
                           <span id="a_name" style="float:right; font-weight : 700 ;font-size: 26px; margin-left: 20px; margin-right: 50px;">Agent ID : <%=id %></span>    
                        </div>
          
          
                       <div style="width: 80%; height:200px; margin: 30px auto 0px auto; ">
                          <div style="float: left;width: 200px; height: 150px; margin-left: 40px; border-radius: 10px;box-shadow: 1px 1px 10px 1px; text-align: center; background-color: seagreen;">
                              <br><br> <p style="border-radius: 50%; background-color: white; padding: 10px; font-weight: 500;"><%= sale %></p><br><br>
                              <p style="color: white; font-weight: 500;">Total Sale</p>
                          </div>
                          <div style="float: right;border-radius: 10px;box-shadow: 1px 1px 10px 1px; width: 200px; height: 150px; margin-right: 40px; text-align: center; background-color: seagreen;">
                             <br><br> <p style="border-radius: 50%; background-color: white; padding: 10px; font-weight: 500;"><%= pr %></p><br><br>
                              <p style="color: white; font-weight: 500;">Properties on Rent</p>
                          </div>
                          <div style="border-radius: 10px;box-shadow: 1px 1px 10px 1px; width: 200px; height: 150px; margin: auto; background-color: seagreen;">
                              <br><br> <p style="border-radius: 50%; background-color: white; padding: 10px; font-weight: 500;"><%= ps %></p><br><br>
                              <p style="color: white; font-weight: 500;">Properties sold</p>
                          </div>
                         
                       </div>
                        
                       <div style="width: 90%; height:100px; margin: 30px auto 0px auto; ">
                       
                       <div  onclick="table_show('table1');" style="float :right; padding :20px; background-color: seagreen; color :white; border-radius: 10px; width :25%; margin: 20px 20px 0px 20px;  ">PROPERTIES SOLD</div>
                       <div onclick="table_show('table2');" style="float: left; padding :20px; background-color: seagreen; color :white; border-radius: 10px; width :25%; margin: 20px 20px 0px 20px; ">PROPERTIES RENTED</div>
                       <div onclick="table_show('table3');" style="float: left; padding :20px; background-color: seagreen; color :white; border-radius: 10px; width :25%; margin: 20px 72px 0px 72px; ">PROPERTIES PENDING</div>
                        
                      </div>
                      
                      <div >
                          <table id="table1">
                            <%
                              if(1){ %>
                                  <tr> 
                                      <th style="width: 134px;">Transaction ID</th>
                                      <th style="width: 134px;">Property ID</th>
                                      <th style="width: 450px; overflow:hidden">Address</th>
                                      <th style="width: 134px;">Bedroom</th>
                                      <th style="width: 154px;">Selling Price</th>
                                      <th style="width: 134px;">Sale Date</th>
                                 </tr>
                              
                              <%
                              if(userDataSale.length!=0){
                              var i=1;
                              userDataSale.forEach(function(data){
                              %>
          
                              <tr>
                                  <tr>
                                      <td><%=data.TS_ID %></td>
                                      <td><%=data.P_ID %></td>
                                      <td><%=data.Address %></td>
                                      <td><%=data.Bedroom %></td>
                                      <td><%=data.Sell_price %></td>
                                      <td><%=data.S_date%></td>
                                     
                                  </tr>
                              </tr>
          
                              <%  i++;}) %>
                              <% } else{ %>
                              <tr>
                                  <td colspan="6">No Data Found</td>
                              </tr>
                              <% } } %>
                             
                          </table>
                          
                      </div>
                      <div>
                          <table id="table2">
                             
                               
                                <%
                                if(1){   %>
                                    <tr> 
                                        <th style="width: 134px;">Transaction ID</th>
                                        <th style="width: 134px;">Property ID</th>
                                        <th style="width: 400px; overflow:hidden">Address</th>
                                        <th style="width: 134px;">Bedroom</th>
                                        <th style="width: 154px;">Rent</th>
                                        <th style="width: 134px;">Sale Date</th>
                                        <th style="width: 134px;">End Date</th>
                                   </tr>
                               
                                <%
                                if(userDataRent.length!=0){
                                var i=1;
                                userDataRent.forEach(function(data){
                                %>
            
                                <tr>
                                    <td><%=data.TR_ID %></td>
                                    <td><%=data.P_ID %></td>
                                    <td><%=data.Address %></td>
                                    <td><%=data.Bedroom %></td>
                                    <td><%=data.Rent %></td>
                                    <td><%=data.Start_Date%></td>
                                    <td><%=data.END_DATE%></td>
                                </tr>
            
                                <%  i++;}) %>
                                <% } else{ %>
                                <tr>
                                    <td colspan="7">No Data Found</td>
                                </tr>
                                <% } } %>
                          
                              <table id="table3">
                                  <tr>
                                      <th style="width: 134px;">P_ID</th>
                                      
                                      <th style="width: 400px; overflow:hidden">Address</th>
                                      <th style="width: 134px;">Prop. price</th>
                                      <th style="width: 134px;">Prop size(sq.ft) </th>
                                      <th style="width: 134px;">Bedroom</th>
                                      <th style="width: 134px;">Sale or Rent</th>
                                      
                                  </tr>
                                  <%
                                      if(userDataPen.length!=0){
                                      var i=1;
                                      userDataPen.forEach(function(data){
                                  %>
                                      <tr>
                                          <td><%=data.ID %></td>
                                          
                                          <td><%=data.Address %></td>
                                          <td><%=data.Original_price %></td>
                                          <td><%=data.Area %></td>
                                          <td><%=data.Bedroom %></td>
                                          <td><%if(data.Sale_or_Rent==='Rent'){%> Rent <%} else {%> Sale <% } %></td>
                                          
                                      </tr>
              
                                  <%  i++;}) %>
                                  <% } else{ %>
                                  <tr>
                                      <td colspan="8">No Data Found</td>
                                  </tr>
                                  <% } %>
                                  
              
                              </table>
            
                            </table>
                          
                      </div>
                      <br><br><br>
                      </div>
          
              
              </body>
          </html>